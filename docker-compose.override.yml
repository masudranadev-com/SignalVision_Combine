# =============================================================================
# Docker Compose Override - Development Settings
# This file is automatically loaded with docker-compose.yml
# Remove or rename this file for production deployment
# =============================================================================

services:
  # Development overrides for PHP apps
  admin-app:
    environment:
      - APP_ENV=local
      - APP_DEBUG=true
    volumes:
      - ./Admin:/var/www/admin

  manager-app:
    environment:
      - APP_ENV=local
      - APP_DEBUG=true
    volumes:
      - ./Manager:/var/www/manager

  trader-app:
    environment:
      - APP_ENV=local
      - APP_DEBUG=true
    volumes:
      - ./Trader:/var/www/trader

  # wordpress-app uses Docker volume (no local mount needed)

  # Development tools
  notifygo:
    environment:
      - GIN_MODE=debug
    build:
      args:
        - GO_BUILD_FLAGS=-race

  # PHPMyAdmin for database management (development only)
  phpmyadmin:
    image: phpmyadmin:latest
    container_name: signalvision_phpmyadmin
    restart: unless-stopped
    ports:
      - "8081:80"
    environment:
      - PMA_HOST=mysql
      - PMA_USER=root
      - PMA_PASSWORD=${MYSQL_ROOT_PASSWORD:-rootpassword}
      - UPLOAD_LIMIT=100M
    depends_on:
      mysql:
        condition: service_healthy
    networks:
      - signalvision_network

  # Redis Commander for Redis management (development only)
  redis-commander:
    image: rediscommander/redis-commander:latest
    container_name: signalvision_redis_commander
    restart: unless-stopped
    ports:
      - "8082:8081"
    environment:
      - REDIS_HOSTS=local:redis:6379
    depends_on:
      - redis
    networks:
      - signalvision_network

  # Mailpit for email testing (development only)
  mailpit:
    image: axllent/mailpit:latest
    container_name: signalvision_mailpit
    restart: unless-stopped
    ports:
      - "8025:8025"  # Web UI
      - "1025:1025"  # SMTP
    networks:
      - signalvision_network
